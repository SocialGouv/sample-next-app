# Default values for Mas webapp. https://github.com/SocialGouv/helm-charts/blob/master/charts/webapp/values.yaml
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# See https://github.com/SocialGouv/helm-charts/tree/master/charts/app
---
image:
  repository: $CI_REGISTRY_IMAGE
  tag: master

fullnameOverride: app

deployment:
  resources:
    requests:
      memory: 128Mi
    limits:
      memory: 256Mi

  livenessProbe:
    initialDelaySeconds: 30
    path: /health
    periodSeconds: 15
  readinessProbe:
    initialDelaySeconds: 30
    path: /health
    periodSeconds: 15

  envFrom:
    - configMapRef:
        name: app-env
    - secretRef:
        name: app-env
ingress:
  enabled: true
  annotations:
    appgw.ingress.kubernetes.io/ssl-redirect: ""
    certmanager.k8s.io/cluster-issuer: letsencrypt-prod
    kubernetes.io/ingress.class: nginx
    kubernetes.io/tls-acme: "true"
